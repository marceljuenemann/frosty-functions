type Address = variant { EvmAddress : text };
type Chain = variant { Evm : EvmChain };
type Commit = record {
  async_task : opt record { int32; text };
  logs : vec LogEntry;
  timestamp : nat64;
};
type EvmChain = variant { ArbitrumSepolia; ArbitrumOne; Localhost };
type ExecutionResult = record { commits : vec Commit };
type FunctionDefinition = record {
  source : text;
  compiler : text;
  binary : blob;
};
type Job = record { request : JobRequest };
type JobRequest = record {
  transaction_hash : opt text;
  block_hash : opt text;
  data : blob;
  chain : Chain;
  on_chain_id : opt nat;
  block_number : opt nat;
  function_hash : blob;
  gas_payment : nat;
  caller : Address;
};
type LogEntry = record { level : LogType; message : text };
type LogType = variant { System; Default };
type Result = variant { Ok; Err : text };
type Result_1 = variant { Ok : Job; Err : text };
type Result_2 = variant { Ok : vec nat; Err : text };
type Result_3 = variant { Ok : ExecutionResult; Err : text };
type Result_4 = variant { Ok : bool; Err : text };
service : {
  // Deploy a new function.
  deploy : (FunctionDefinition) -> (Result);
  evm_address : () -> (text) query;
  execute_job : (Chain, nat) -> (Result);
  get_job_info : (Chain, nat) -> (Result_1) query;
  // Returns IDs of jobs currently in the queue for processing.
  get_queue : (Chain) -> (Result_2) query;
  init : () -> ();
  simulate_execution : (JobRequest, blob) -> (Result_3) query;
  // Fetches new jobs from the specified chain.
  // Returns Ok(true) if new jobs were synced.
  sync_chain : (Chain) -> (Result_4);
  temp_simulate_execution : (JobRequest, blob) -> (Result_3);
}
